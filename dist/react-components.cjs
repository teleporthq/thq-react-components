"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const D=require("dayjs"),e=require("react"),h=({date:t,format:r})=>{const a=D.unix(new Date(t).getTime()/1e3),n=D(a).format(r);return e.createElement(e.Fragment,null,n)},w=({html:t})=>{const r=e.useRef(null);return e.useEffect(()=>{if(!t||!r.current)return;const a=document.createRange().createContextualFragment(t);r.current.append(a)},[]),e.createElement("div",{style:{display:"contents"},ref:r})},v=t=>{const{fetchData:r,params:a,initialData:n,persistDataDuringLoading:s=!1,renderLoading:c,renderSuccess:u,renderError:i}=t,[y,l]=e.useState("idle"),[o,d]=e.useState(n),[E,p]=e.useState(null),f=e.useRef(t.initialData!==void 0),g=e.useRef(s);switch(g.current=s,e.useEffect(()=>{if(f.current){f.current=!1;return}(async()=>{l("loading"),g.current||d(void 0);try{const m=await r(a);d(m),l("success")}catch(m){p(m),l("error")}})()},[a,r]),y){case"idle":case"loading":return t.persistDataDuringLoading&&o?u(o,!0):c?c():null;case"success":return u(o,!1);case"error":return i(E);default:return null}},L=t=>{const{items:r,renderItem:a,renderEmpty:n}=t;if("data"in r&&"meta"in r){const{data:s,meta:c}=r;return s.length===0?n?n():null:e.createElement(e.Fragment,null,s.map((u,i)=>a(typeof u=="object"?{...u,teleportMeta:c}:u,i)))}if(Array.isArray(r))return r.length===0?n?n():null:e.createElement(e.Fragment,null,r.map((s,c)=>a(s,c)))},R=({src:t,description:r})=>e.createElement(e.Fragment,null,t&&e.createElement("img",{loading:"lazy",src:`${t}?w=1920&h=960`,srcSet:`${t}?w=3840&h=1920 1920w, ${t}?w=1920&h=960 1280w, ${t}?w=1280&h=640 640w`,alt:r??""})),S=({node:t,children:r})=>t.attrs.src?e.createElement(R,{...t.attrs}):e.createElement(e.Fragment,null,r);exports.CaisyDocumentLink=S;exports.DangerousHTML=w;exports.DataProvider=v;exports.DateTimePrimitive=h;exports.Repeater=L;
