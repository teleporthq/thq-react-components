"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const y=require("dayjs"),r=require("react"),R=({date:t,format:e})=>{const a=y.unix(new Date(t).getTime()/1e3),n=y(a).format(e);return r.createElement(r.Fragment,null,n)},F=({html:t})=>{const e=r.useRef(null);return r.useEffect(()=>{if(!t||!e.current)return;const a=document.createRange().createContextualFragment(t);e.current.append(a)},[]),r.createElement("div",{style:{display:"contents"},ref:e})},v=t=>{const{fetchData:e,params:a,initialData:n,persistDataDuringLoading:s=!1,renderLoading:u=()=>null,renderSuccess:c,renderError:l=()=>null}=t,[D,i]=r.useState("idle"),[o,d]=r.useState(n),[E,p]=r.useState(null),f=r.useRef(t.initialData!==void 0),g=r.useRef(s);switch(g.current=s,r.useEffect(()=>{if(f.current){f.current=!1;return}(async()=>{i("loading"),g.current||d(void 0);try{const m=await e(a);d(m),i("success")}catch(m){p(m),i("error")}})()},[a,e]),D){case"idle":case"loading":return t.persistDataDuringLoading&&o?c(o,!0):u();case"success":return c(o,!1);case"error":return l(E);default:return null}},S=t=>{const{items:e,renderItem:a,renderEmpty:n}=t;if("data"in e&&"meta"in e){const{data:s,meta:u}=e;return Array.isArray(s)===!1?null:s.length===0?n?n():null:r.createElement(r.Fragment,null,s.map((c,l)=>a(typeof c=="object"?{...c,teleportMeta:u}:c,l)))}return Array.isArray(e)?e.length===0?n?n():null:r.createElement(r.Fragment,null,e.map((s,u)=>a(s,u))):null},T=({src:t,description:e})=>r.createElement(r.Fragment,null,t&&r.createElement("img",{loading:"lazy",src:t,alt:e??""})),h=({node:t,children:e})=>t.attrs.src?r.createElement(T,{...t.attrs}):r.createElement(r.Fragment,null,e),L=({itemData:t,mappingConfiguration:e,renderDefault:a,renderError:n})=>{try{return e?.[t.typeId]?React.createElement(React.Fragment,null,e[t.typeId]?.(t.attributes)??null):React.createElement(React.Fragment,null,a?a(t):"default case")}catch(s){return React.createElement(React.Fragment,null,n?n(s):"error case")}};exports.CMSMixedType=L;exports.CaisyDocumentLink=h;exports.DangerousHTML=F;exports.DataProvider=v;exports.DateTimePrimitive=R;exports.Repeater=S;
