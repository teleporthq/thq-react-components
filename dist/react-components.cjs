"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const g=require("dayjs"),r=require("react"),E=({date:e,format:t})=>{const n=g.unix(new Date(e).getTime()/1e3),s=g(n).format(t);return r.createElement(r.Fragment,null,s)},R=({html:e})=>{const t=r.useRef(null);return r.useEffect(()=>{if(!e||!t.current)return;const n=document.createRange().createContextualFragment(e);t.current.append(n)},[]),r.createElement("div",{style:{display:"contents"},ref:t})},h=e=>{const{fetchData:t,params:n,initialData:s,persistDataDuringLoading:a=!1,renderLoading:u=()=>null,renderSuccess:c,renderError:l=()=>null}=e,[p,o]=r.useState("idle"),[i,f]=r.useState(s),[T,D]=r.useState(null),m=r.useRef(e.initialData!==void 0),y=r.useRef(a);switch(y.current=a,r.useEffect(()=>{if(m.current){m.current=!1;return}(async()=>{o("loading"),y.current||f(void 0);try{const d=await t(n);f(d),o("success")}catch(d){D(d),o("error")}})()},[n,t]),p){case"idle":case"loading":return e.persistDataDuringLoading&&i?c(i,!0):u();case"success":return c(i,!1);case"error":return l(T);default:return null}},b=e=>{const{items:t,renderItem:n,renderEmpty:s}=e;if("data"in t&&"meta"in t){const{data:a,meta:u}=t;return Array.isArray(a)===!1?null:a.length===0?s?s():null:r.createElement(r.Fragment,null,a.map((c,l)=>n(typeof c=="object"?{...c,teleportMeta:u}:c,l)))}return Array.isArray(t)?t.length===0?s?s():null:r.createElement(r.Fragment,null,t.map((a,u)=>n(a,u))):null},v=({src:e,description:t})=>r.createElement(r.Fragment,null,e&&r.createElement("img",{loading:"lazy",src:e,alt:t??""})),F=({node:e,children:t})=>e.attrs.src?r.createElement(v,{...e.attrs}):r.createElement(r.Fragment,null,t),S=(e,t)=>t?.components?.[e.subType]?[!0,t.components[e.subType]?.(e.attributes)]:[!1],L=(e,t)=>t.contentTypes?.[e.subType]?[!0,t.contentTypes[e.subType]?.(e.attributes)]:[!1],M=({itemData:e,mappingConfiguration:t,renderDefault:n,renderError:s})=>{try{const a=e.type==="component"?S(e,t):L(e,t);return React.createElement(React.Fragment,null,a[0]?a[1]??null:n?n(e):"default case")}catch(a){return React.createElement(React.Fragment,null,s?s(a):"error case")}};exports.CMSMixedType=M;exports.CaisyDocumentLink=F;exports.DangerousHTML=R;exports.DataProvider=h;exports.DateTimePrimitive=E;exports.Repeater=b;
